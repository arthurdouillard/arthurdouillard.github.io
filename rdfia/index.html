<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.0.0">
  <meta name="generator" content="Hugo 0.49.2" />
  <meta name="author" content="Arthur Douillard">

  
  
  
  
    
  
  <meta name="description" content="RDFIA / Master DAC &amp; IMA / Sorbonne
Le cours est organisé par le professeur Matthieu Cord. Vos assistants de TPs auquels vous devrez envoyer vos travaux sont Asya Grechka (asya.grechka@lip6.fr), Alexandre Rame (alexandre.rame@lip6.fr) et moi-même Arthur Douillard (arthur.douillard@lip6.fr).
Pour simplifier notre tâche vous êtes priés de nous adresser les mails avec pour objet [RDFIA][TP-&lt;numero&gt;].
Rappels Les TPs seront en Python3 et plusieurs bibliothèques seront utilisées. Voici quelques liens pour rappel, ou pour vous familiariser en avance:">

  
  <link rel="alternate" hreflang="en-us" href="/rdfia/">

  


  

  

  

  
  
  
  <meta name="theme-color" content="#e0491f">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  
  <link rel="stylesheet" href="/css/search_bar.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-102629480-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Arthur Douillard">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="Arthur Douillard">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/rdfia/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@Ar_Douilllard">
  <meta property="twitter:creator" content="@Ar_Douilllard">
  
  <meta property="og:site_name" content="Arthur Douillard">
  <meta property="og:url" content="/rdfia/">
  <meta property="og:title" content="TP Deep Learning RDFIA | Arthur Douillard">
  <meta property="og:description" content="RDFIA / Master DAC &amp; IMA / Sorbonne
Le cours est organisé par le professeur Matthieu Cord. Vos assistants de TPs auquels vous devrez envoyer vos travaux sont Asya Grechka (asya.grechka@lip6.fr), Alexandre Rame (alexandre.rame@lip6.fr) et moi-même Arthur Douillard (arthur.douillard@lip6.fr).
Pour simplifier notre tâche vous êtes priés de nous adresser les mails avec pour objet [RDFIA][TP-&lt;numero&gt;].
Rappels Les TPs seront en Python3 et plusieurs bibliothèques seront utilisées. Voici quelques liens pour rappel, ou pour vous familiariser en avance:">
  
  
    
  <meta property="og:image" content="/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2020-10-05T00:00:00&#43;02:00">
  
  <meta property="article:modified_time" content="2020-10-05T00:00:00&#43;02:00">
  

  

  
<meta name="twitter:title" content="TP Deep Learning RDFIA" />










<link rel="icon" type="image/png" href="/img/favicon32.png">
<link rel="apple-touch-icon" type="image/png" href="/img/favicon180.png">


  <title>TP Deep Learning RDFIA | Arthur Douillard</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >

<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Arthur Douillard</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#talks_list">
            
            <span>Talks</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#teaching">
            
            <span>Teaching</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/books">
            
            <span>Books</span>
            
          </a>
        </li>

        
        

      

        

        
      </ul>

    </div>
  </div>
</nav>




















<div class="article-container pt-3">
  <h1 itemprop="name">TP Deep Learning RDFIA</h1>

  

  
  

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Arthur Douillard">
  </span>
  

  <span class="article-date">
    
    <meta content="2020-10-05 00:00:00 &#43;0200 CEST" itemprop="datePublished">
    <time datetime="2020-10-05 00:00:00 &#43;0200 CEST" itemprop="dateModified">
      5 October, 2020
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Arthur Douillard">
  </span>

  
  

  
  

  

  
  

  

</div>

  
</div>



<section class="home-section">
    <div class="container">
        

<p>RDFIA / Master DAC &amp; IMA / Sorbonne</p>

<p>Le cours est organisé par le professeur Matthieu Cord. Vos assistants de TPs auquels
vous devrez envoyer vos travaux sont Asya Grechka (asya.grechka@lip6.fr), Alexandre Rame (alexandre.rame@lip6.fr) et moi-même Arthur
Douillard (arthur.douillard@lip6.fr).</p>

<p>Pour simplifier notre tâche vous êtes priés de nous adresser les mails avec pour objet
<code>[RDFIA][TP-&lt;numero&gt;]</code>.</p>

<h2 id="rappels">Rappels</h2>

<p>Les TPs seront en Python3 et plusieurs bibliothèques seront utilisées. Voici
quelques liens pour rappel, ou pour vous familiariser en avance:</p>

<ul>
<li><a href="https://learnxinyminutes.com/docs/python/" target="_blank">Rappel de Python</a></li>
<li><a href="https://docs.scipy.org/doc/numpy/user/quickstart.html" target="_blank">Rappel de Numpy</a></li>
<li><a href="https://scikit-learn.org/stable/tutorial/basic/tutorial.html" target="_blank">Introduction de Scikit-Learn</a>. L&rsquo;api est très similaire quelque soit l&rsquo;algorithme (init / fit / predict)</li>
<li><a href="https://pytorch.org/tutorials/beginner/deep_learning_60min_blitz.html" target="_blank">Introduction de Pytorch</a></li>
</ul>

<p>Les cours seront ajoutés au fur et à mesure.</p>

<p>Calendrier où les cours de RDFIA sont indiqués: <a href="https://sucal.aminedjeghri.tk/calendar/M2_IMA" target="_blank">calendrier</a></p>

<h2 id="tp-1-2-sift-bag-of-words">TP 1 - 2 : SIFT / Bag of words</h2>

<p><em>7 &amp; 14 &amp; 21 Octobre 2020</em></p>

<p><del>A rendre pour avant le 21 Octobre 2020 à 23h59.</del>
<strong>MaJ: A rendre pour avant le 30 Octobre 2020 à 23h59.</strong></p>

<p><strong>Suite à la crise du Covid vous êtes présents en demi-groupes.  Ce TP 1-2
sera fait en 3 semaines (7, 14, et 21 Octobre). Le deuxième groupe ne nous aura donc que une fois en
présentiel mais nous serons plus indulgents, de plus nous pourrons répondre aux questions le 28 Octobre.</strong></p>

<p><strong>Pour les prochains TPs (3 -&gt; $\infty$) nous continuerons au rythme normal des années précédentes, il
faudra donc commencer le TP en remote.</strong></p>

<ul>
<li>Énoncé: <a href="/files/rdfia_resources/tp1-2.pdf">TP1-2.pdf</a></li>
<li>Colab: <a href="https://colab.research.google.com/drive/1jL8yy91z6RI0JJIxMQi6Odkh3uMeb7-H?usp=sharing" target="_blank">colab</a> (faire &ldquo;File -&gt; Save a copy in Drive&rdquo;)</li>
</ul>

<p>NB: There is a mistake in our conv_separable, you should see that the images with horizontal and vertical gradients have been inversed. This only impair the visualization of the function compute_grad, but no worry the quality of the final sift stay the same.</p>

<p>Pour aller plus loin, TP sur les SVMs (non noté!):</p>

<ul>
<li>Énoncé: <a href="/files/rdfia_resources/tp2-bis.pdf">TP2-bis.pdf</a></li>
<li>Colab: <a href="https://colab.research.google.com/drive/1xkgV6yz2E6_41aYdIC8uSro6gl7eLHn6?usp=sharing" target="_blank">colab</a></li>
</ul>

<h2 id="tp-3-4-introduction-aux-réseaux-de-neurones">TP 3 - 4: Introduction aux réseaux de neurones</h2>

<p><em>28 Octobre &amp; 4 Novembre 2020</em></p>

<ul>
<li>Énoncé: <a href="/files/rdfia_resources/tp3-4.pdf">TP3-4.pdf</a></li>

<li><p>Colab: <a href="https://colab.research.google.com/drive/1MrenVA2opTP0zgut8_Q4O-VUa978Y2DI?usp=sharing" target="_blank">colab</a></p></li>

<li><p>Pour le second groupe, tp en visio à 13h45 ici: <a href="https://zoom.us/j/97871580043?pwd=NXB6Z29sUGtESTJQOXYvNkp4U0dFZz09" target="_blank">Zoom Link</a>, password <strong>rdfia</strong></p></li>

<li><p>Solution gradient: <a href="/files/rdfia_resources/tp3-4_math.pdf">tp3-4_math.pdf</a></p></li>
</ul>

<h2 id="tp-5-6-réseaux-convolutionnels-pour-l-image">TP 5 - 6: Réseaux convolutionnels pour l&rsquo;image</h2>

<p><em>18 &amp; 25 Novembre 2020</em></p>

<p>Cette fois-ci, les deux groupes auront TPs en même temps, par zoom.</p>

<ul>
<li>Énoncé: <a href="/files/rdfia_resources/tp5-6.pdf">TP5-6.pdf</a></li>
<li>Colab: <a href="https://colab.research.google.com/drive/1ZfD37TsJudcyUjff-D8Gagylf-R5NuHd?usp=sharing" target="_blank">colab</a></li>
<li>Zoom 18 Novembre 16h: <a href="https://zoom.us/j/98138914049?pwd=ZTVkbWZsc21vS2tKeUF0cWFVeStOdz09" target="_blank">zoom link</a>, password <strong>rdfia</strong></li>

<li><p>Zoom 25 Novembre 16h: <a href="https://zoom.us/j/91842902968?pwd=S3ZxQ1N0TFl6Y0syMyticGdlTHlodz09" target="_blank">zoom link</a>, password <strong>rdfia</strong></p></li>

<li><p>Enregistrement du zoom du 25 Nov: <a href="https://drive.google.com/drive/folders/1lBxnQ3Yh4_Q-P2A26F5Uv12ooa5BvP2r?usp=sharing" target="_blank">video</a></p></li>
</ul>

<p><strong>Le rendu est déplacé au 11 Décembre, 23h59.</strong></p>

<p><strong>Vu que certains ont mal compris, nous considerons pour le premier rendu (TP1-2) que les questions
avec étoiles sont des bonus. Pour le rendu 2 (TP3-4-5-6) et les suivants, ces questions sont des questions
avec plus de points, les questions bonus seront, comme précisé dès le départ, dénotés par le mot &ldquo;bonus&rdquo;.</strong></p>

<h2 id="tp-7-transfer-learning">TP 7: Transfer Learning</h2>

<p><em>9 Décembre 2020</em></p>

<ul>
<li>Énoncé: <a href="/files/rdfia_resources/tp7.pdf">TP7.pdf</a></li>
<li>Colab: <a href="https://colab.research.google.com/drive/1_RnEZX1Fp1z6seRM2c3mpHHowvDeQ1ka?usp=sharing" target="_blank">colab</a></li>
<li>Zoom: <a href="https://zoom.us/j/93572572065?pwd=STlWM0JwLzZJUTE5aXNldEhUeFUyZz09" target="_blank">zoom link</a>, password <strong>rdfia</strong></li>
<li><a href="https://alexrame.github.io/" target="_blank">Alex</a>&rsquo;s slides: <a href="/files/rdfia_resources/alex_slides_tp7.pdf">slides.pdf</a></li>
</ul>

<h2 id="tp-8-visualization">TP 8: Visualization</h2>

<p><em>16 Décembre 2020</em></p>

<ul>
<li>Énoncé: <a href="/files/rdfia_resources/tp8.pdf">TP8.pdf</a></li>
<li>Colab: <a href="https://colab.research.google.com/drive/1ubvt5LuJ0SNqsw3rnHRbYHL3Ycp3f3rk?usp=sharing" target="_blank">colab</a></li>
<li>Zoom: <a href="https://zoom.us/j/96910655374?pwd=eWt2ZWoydXEvZHJwSEFEZHY1U3c1QT09" target="_blank">zoom link</a>, password <strong>rdfia</strong></li>
</ul>

<h2 id="tp-9-10-gan">TP 9-10: GAN</h2>

<p><em>6 &amp; 13 Janvier 2021</em></p>

<ul>
<li><p>Énoncé: <a href="/files/rdfia_resources/tp9-10.pdf">TP9-10.pdf</a></p></li>

<li><p>Colab 1ère séance: <a href="https://colab.research.google.com/drive/1judQvIGv965KBdmVRgrkHzGQICVzyA5s?usp=sharing" target="_blank">colab 1</a></p></li>

<li><p>Zoom du 6 Janvier: <a href="https://zoom.us/j/98963023208?pwd=RC9tQ2hXY28zVG9LVXd2N053ZjljZz09" target="_blank">zoom link</a>, password <strong>rdfia</strong></p></li>

<li><p>Enregistrement du 6 Janvier par Asya: <a href="https://drive.google.com/file/d/1y_wTD5xAURFLthZX37vSqce9hypaqrdm/view?usp=sharing" target="_blank">video.mp4</a></p></li>

<li><p><strong>FIX</strong>: the link for the celeba and celeba64 datasets have been changed (the latter was broken). They are now
<a href="http://webia.lip6.fr/~douillard/rdfia/celeba.zip" target="_blank">http://webia.lip6.fr/~douillard/rdfia/celeba.zip</a> and <a href="http://webia.lip6.fr/~douillard/rdfia/celeba64.zip" target="_blank">http://webia.lip6.fr/~douillard/rdfia/celeba64.zip</a></p></li>

<li><p>Colab 2ème séance: <a href="https://colab.research.google.com/drive/1t1N3-EtzWu6mY_-5Hr7Bb0jTgMTC-S4I?usp=sharing" target="_blank">colab 2</a></p></li>

<li><p>Zoom du 13 Janvier: <a href="https://zoom.us/j/91509429294?pwd=Y3VEV2xwUlZkdnVub01DV211NVpFdz09" target="_blank">zoom link</a></p></li>

<li><p>Enregistrement du 13 Janvier par Alex + slides: <a href="https://drive.google.com/drive/folders/14RSgh5ik8qV5bhdAf53MMWzzi5mXiCAW?usp=sharing" target="_blank">Google Drive</a></p></li>
</ul>

<h4 id="mises-à-jour">Mises à jour:</h4>

<p>2020-10-05, 22:34: Add TP 1-2.</p>

<p>2020-10-07, 13:35: Add Colab link.</p>

<p>2020-10-07, 14:15: Change Colab link.</p>

<p>2020-10-14, 10:54: Update de date de rendu et précision covid.</p>

<p>2020-10-21, 11:17: Add bonus on svm.</p>

<p>2020-10-23, 14:32: Add warning about minor mistake.</p>

<p>2020-10-27, 15:50: Add TP 3-4.</p>

<p>2020-10-28, 09:27: Fix deadline of TP3-4.</p>

<p>2020-11-03, 21:14: Ajout d&rsquo;un lien zoom pour le prochain tp du 4 Nov.</p>

<p>2020-11-03, 14:25: Ajout d&rsquo;une cheatsheet gradient.</p>

<p>2020-11-16, 12:42: Ajout du TP5-6 conv.</p>

<p>2020-11-26, 10:28: Mise à jour de la date de rendu du second TP + précision sur les bonus.</p>

<p>2020-12-08, 11:11: Ajout du TP 7 transfer.</p>

<p>2020-12-15, 16:36: Ajout des TPs 8 - 9 - 10.</p>

<p>2021-01-07, 13:46: Ajout du lien vers le cours du 6 Janvier, fix des urls pour celeba.</p>

<p>2021-01-25, 20:50: Ajout du lien vers l&rsquo;enregistrement et les slides du TP 10.</p>

    </div>
</section>
<div class="container">
  <footer class="site-footer">
  

  <p class="powered-by">
    &copy; 2018 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>





<script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        CommonHTML: { linebreaks: { automatic: true } },
        tex2jax: { inlineMath: [ ['$', '$'], ['\\(','\\)'] ], displayMath: [ ['$$','$$'], ['\\[', '\\]'] ], processEscapes: false },
        TeX: { noUndefined: { attributes: { mathcolor: 'red', mathbackground: '#FFEEEE', mathsize: '90%' } } },
        messageStyle: 'none'
      });
    </script>





<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>





<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>




<script src="/js/hugo-academic.js"></script>














<script src="https://cdnjs.cloudflare.com/ajax/libs/instantsearch.js/2.10.2/instantsearch.min.js" integrity="sha256-gFCtPk/sonctyfwYOgjrPoWApQ0rqB6ezBBZ7p32yGc=" crossorigin="anonymous"></script>
<script>
  const content_type = {
    'post': "Posts",
  'project': { { i18n "projects" } },
  'publication' : { { i18n "publications" } },
  'talk' : { { i18n "talks" } }
      };

  function getTemplate(templateName) {
    return document.querySelector(`#${templateName}-template`).innerHTML;
  }

  const options = {
    appId: "",
  apiKey: { { .Site.Params.search.algolia.api_key } },
  indexName: { { .Site.Params.search.algolia.index_name } },
  routing: true,
    searchParameters: {
    hitsPerPage: 10
  },
  searchFunction: function(helper) {
    let searchResults = document.querySelector('#search-hits')
    if (helper.state.query === '') {
      searchResults.style.display = 'none';
      return;
    }
    helper.search();
    searchResults.style.display = 'block';
  }
      };

  const search = instantsearch(options);

  
  search.addWidget(
    instantsearch.widgets.searchBox({
      container: '#search-box',
      placeholder: "Search..."
        })
  );

  
  search.addWidget(
    instantsearch.widgets.infiniteHits({
      container: '#search-hits',
      templates: {
        empty: '<div class="search-no-results">' + "No results found" + '</div>',
      item: getTemplate('search-hit')
          },
      cssClasses: {
      showmoreButton: 'btn btn-primary btn-outline'
    }
        })
  );

  
  search.on('render', function () {
    $('.search-hit-type').each(function (index) {
      let content_key = $(this).text();
      if (content_key in content_type) {
        $(this).text(content_type[content_key]);
      }
    });
  });

  
  search.start();
</script>


</body>

</html>

